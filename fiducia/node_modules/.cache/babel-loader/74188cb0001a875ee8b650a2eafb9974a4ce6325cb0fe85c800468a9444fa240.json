{"ast":null,"code":"/*\r\nThis file is part of web3.js.\r\n\r\nweb3.js is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU Lesser General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nweb3.js is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU Lesser General Public License for more details.\r\n\r\nYou should have received a copy of the GNU Lesser General Public License\r\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\nimport { format, isNullish, keccak256 } from 'web3-utils';\nimport { FMT_NUMBER, FMT_BYTES, DEFAULT_RETURN_FORMAT } from 'web3-types';\nimport { decodeLog, decodeParameters, encodeEventSignature, encodeFunctionSignature, encodeParameter, encodeParameters, isAbiConstructorFragment, jsonInterfaceMethodToString } from 'web3-eth-abi';\nimport { blockSchema, logSchema } from 'web3-eth';\nimport { Web3ContractError } from 'web3-errors';\nexport const encodeEventABI = (_ref, event, options) => {\n  let {\n    address\n  } = _ref;\n  var _a, _b;\n  const topics = options === null || options === void 0 ? void 0 : options.topics;\n  const filter = (_a = options === null || options === void 0 ? void 0 : options.filter) !== null && _a !== void 0 ? _a : {};\n  const opts = {};\n  if (!isNullish(options === null || options === void 0 ? void 0 : options.fromBlock)) {\n    opts.fromBlock = format(blockSchema.properties.number, options === null || options === void 0 ? void 0 : options.fromBlock, {\n      number: FMT_NUMBER.HEX,\n      bytes: FMT_BYTES.HEX\n    });\n  }\n  if (!isNullish(options === null || options === void 0 ? void 0 : options.toBlock)) {\n    opts.toBlock = format(blockSchema.properties.number, options === null || options === void 0 ? void 0 : options.toBlock, {\n      number: FMT_NUMBER.HEX,\n      bytes: FMT_BYTES.HEX\n    });\n  }\n  if (topics && Array.isArray(topics)) {\n    opts.topics = [...topics];\n  } else {\n    opts.topics = [];\n    // add event signature\n    if (event && !event.anonymous && event.name !== 'ALLEVENTS') {\n      opts.topics.push((_b = event.signature) !== null && _b !== void 0 ? _b : encodeEventSignature(jsonInterfaceMethodToString(event)));\n    }\n    // add event topics (indexed arguments)\n    if (event.name !== 'ALLEVENTS' && event.inputs) {\n      for (const input of event.inputs) {\n        if (!input.indexed) {\n          continue;\n        }\n        const value = filter[input.name];\n        if (!value) {\n          // eslint-disable-next-line no-null/no-null\n          opts.topics.push(null);\n          continue;\n        }\n        // TODO: https://github.com/ethereum/web3.js/issues/344\n        // TODO: deal properly with components\n        if (Array.isArray(value)) {\n          opts.topics.push(value.map(v => encodeParameter(input.type, v)));\n        } else if (input.type === 'string') {\n          opts.topics.push(keccak256(value));\n        } else {\n          opts.topics.push(encodeParameter(input.type, value));\n        }\n      }\n    }\n  }\n  if (!opts.topics.length) delete opts.topics;\n  if (address) {\n    opts.address = address.toLowerCase();\n  }\n  return opts;\n};\nexport const decodeEventABI = function (event, data, jsonInterface) {\n  let returnFormat = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_RETURN_FORMAT;\n  var _a, _b, _c, _d, _e;\n  let modifiedEvent = Object.assign({}, event);\n  const result = format(logSchema, data, returnFormat);\n  // if allEvents get the right event\n  if (modifiedEvent.name === 'ALLEVENTS') {\n    const matchedEvent = jsonInterface.find(j => j.signature === data.topics[0]);\n    if (matchedEvent) {\n      modifiedEvent = matchedEvent;\n    } else {\n      modifiedEvent = {\n        anonymous: true\n      };\n    }\n  }\n  // create empty inputs if none are present (e.g. anonymous events on allEvents)\n  modifiedEvent.inputs = (_b = (_a = modifiedEvent.inputs) !== null && _a !== void 0 ? _a : event.inputs) !== null && _b !== void 0 ? _b : [];\n  // Handle case where an event signature shadows the current ABI with non-identical\n  // arg indexing. If # of topics doesn't match, event is anon.\n  if (!modifiedEvent.anonymous) {\n    let indexedInputs = 0;\n    ((_c = modifiedEvent.inputs) !== null && _c !== void 0 ? _c : []).forEach(input => {\n      if (input.indexed) {\n        indexedInputs += 1;\n      }\n    });\n    if (indexedInputs > 0 && (data === null || data === void 0 ? void 0 : data.topics) && (data === null || data === void 0 ? void 0 : data.topics.length) !== indexedInputs + 1) {\n      // checks if event is anonymous\n      modifiedEvent = Object.assign(Object.assign({}, modifiedEvent), {\n        anonymous: true,\n        inputs: []\n      });\n    }\n  }\n  const argTopics = modifiedEvent.anonymous ? data.topics : ((_d = data.topics) !== null && _d !== void 0 ? _d : []).slice(1);\n  return Object.assign(Object.assign({}, result), {\n    returnValues: decodeLog([...((_e = modifiedEvent.inputs) !== null && _e !== void 0 ? _e : [])], data.data, argTopics),\n    event: modifiedEvent.name,\n    signature: modifiedEvent.anonymous || !data.topics || data.topics.length === 0 || !data.topics[0] ? undefined : data.topics[0],\n    raw: {\n      data: data.data,\n      topics: data.topics\n    }\n  });\n};\nexport const encodeMethodABI = (abi, args, deployData) => {\n  const inputLength = Array.isArray(abi.inputs) ? abi.inputs.length : 0;\n  if (inputLength !== args.length) {\n    throw new Web3ContractError(`The number of arguments is not matching the methods required number. You need to pass ${inputLength} arguments.`);\n  }\n  const params = encodeParameters(Array.isArray(abi.inputs) ? abi.inputs : [], args).replace('0x', '');\n  if (isAbiConstructorFragment(abi)) {\n    if (!deployData) throw new Web3ContractError('The contract has no contract data option set. This is necessary to append the constructor parameters.');\n    if (!deployData.startsWith('0x')) {\n      return `0x${deployData}${params}`;\n    }\n    return `${deployData}${params}`;\n  }\n  return `${encodeFunctionSignature(abi)}${params}`;\n};\nexport const decodeMethodReturn = (abi, returnValues) => {\n  // If it was constructor then we need to return contract address\n  if (abi.type === 'constructor') {\n    return returnValues;\n  }\n  if (!returnValues) {\n    // Using \"null\" value intentionally to match legacy behavior\n    // eslint-disable-next-line no-null/no-null\n    return null;\n  }\n  const value = returnValues.length >= 2 ? returnValues.slice(2) : returnValues;\n  if (!abi.outputs) {\n    // eslint-disable-next-line no-null/no-null\n    return null;\n  }\n  const result = decodeParameters([...abi.outputs], value);\n  if (result.__length__ === 1) {\n    return result[0];\n  }\n  return result;\n};","map":{"version":3,"names":["format","isNullish","keccak256","FMT_NUMBER","FMT_BYTES","DEFAULT_RETURN_FORMAT","decodeLog","decodeParameters","encodeEventSignature","encodeFunctionSignature","encodeParameter","encodeParameters","isAbiConstructorFragment","jsonInterfaceMethodToString","blockSchema","logSchema","Web3ContractError","encodeEventABI","_ref","event","options","address","topics","filter","_a","opts","fromBlock","properties","number","HEX","bytes","toBlock","Array","isArray","anonymous","name","push","_b","signature","inputs","input","indexed","value","map","v","type","length","toLowerCase","decodeEventABI","data","jsonInterface","returnFormat","arguments","undefined","modifiedEvent","Object","assign","result","matchedEvent","find","j","indexedInputs","_c","forEach","argTopics","_d","slice","returnValues","_e","raw","encodeMethodABI","abi","args","deployData","inputLength","params","replace","startsWith","decodeMethodReturn","outputs","__length__"],"sources":["C:\\Users\\lakka\\OneDrive - Manipal Academy of Higher Education\\FIDUCIA\\voting-gui\\fiducia\\node_modules\\web3-eth-contract\\src\\encoding.ts"],"sourcesContent":["ï»¿/*\r\nThis file is part of web3.js.\r\n\r\nweb3.js is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU Lesser General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nweb3.js is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU Lesser General Public License for more details.\r\n\r\nYou should have received a copy of the GNU Lesser General Public License\r\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nimport { format, isNullish, keccak256 } from 'web3-utils';\r\n\r\nimport {\r\n\tAbiConstructorFragment,\r\n\tAbiEventFragment,\r\n\tAbiFunctionFragment,\r\n\tLogsInput,\r\n\tFilter,\r\n\tHexString,\r\n\tTopic,\r\n\tFMT_NUMBER,\r\n\tFMT_BYTES,\r\n\tDataFormat,\r\n\tDEFAULT_RETURN_FORMAT,\r\n} from 'web3-types';\r\n\r\nimport {\r\n\tdecodeLog,\r\n\tdecodeParameters,\r\n\tencodeEventSignature,\r\n\tencodeFunctionSignature,\r\n\tencodeParameter,\r\n\tencodeParameters,\r\n\tisAbiConstructorFragment,\r\n\tjsonInterfaceMethodToString,\r\n} from 'web3-eth-abi';\r\n\r\nimport { blockSchema, logSchema } from 'web3-eth';\r\n\r\nimport { Web3ContractError } from 'web3-errors';\r\n\r\n// eslint-disable-next-line import/no-cycle\r\nimport { ContractOptions, ContractAbiWithSignature, EventLog } from './types.js';\r\n\r\ntype Writeable<T> = { -readonly [P in keyof T]: T[P] };\r\nexport const encodeEventABI = (\r\n\t{ address }: ContractOptions,\r\n\tevent: AbiEventFragment & { signature: string },\r\n\toptions?: Filter,\r\n) => {\r\n\tconst topics = options?.topics;\r\n\tconst filter = options?.filter ?? {};\r\n\tconst opts: Writeable<Filter> = {};\r\n\r\n\tif (!isNullish(options?.fromBlock)) {\r\n\t\topts.fromBlock = format(blockSchema.properties.number, options?.fromBlock, {\r\n\t\t\tnumber: FMT_NUMBER.HEX,\r\n\t\t\tbytes: FMT_BYTES.HEX,\r\n\t\t});\r\n\t}\r\n\tif (!isNullish(options?.toBlock)) {\r\n\t\topts.toBlock = format(blockSchema.properties.number, options?.toBlock, {\r\n\t\t\tnumber: FMT_NUMBER.HEX,\r\n\t\t\tbytes: FMT_BYTES.HEX,\r\n\t\t});\r\n\t}\r\n\r\n\tif (topics && Array.isArray(topics)) {\r\n\t\topts.topics = [...topics] as Topic[];\r\n\t} else {\r\n\t\topts.topics = [];\r\n\t\t// add event signature\r\n\t\tif (event && !event.anonymous && event.name !== 'ALLEVENTS') {\r\n\t\t\topts.topics.push(\r\n\t\t\t\tevent.signature ?? encodeEventSignature(jsonInterfaceMethodToString(event)),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// add event topics (indexed arguments)\r\n\t\tif (event.name !== 'ALLEVENTS' && event.inputs) {\r\n\t\t\tfor (const input of event.inputs) {\r\n\t\t\t\tif (!input.indexed) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst value = filter[input.name];\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\t// eslint-disable-next-line no-null/no-null\r\n\t\t\t\t\topts.topics.push(null);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// TODO: https://github.com/ethereum/web3.js/issues/344\r\n\t\t\t\t// TODO: deal properly with components\r\n\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\topts.topics.push(value.map(v => encodeParameter(input.type, v)));\r\n\t\t\t\t} else if (input.type === 'string') {\r\n\t\t\t\t\topts.topics.push(keccak256(value as string));\r\n\t\t\t\t} else {\r\n\t\t\t\t\topts.topics.push(encodeParameter(input.type, value));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (!opts.topics.length) delete opts.topics;\r\n\r\n\tif (address) {\r\n\t\topts.address = address.toLowerCase();\r\n\t}\r\n\r\n\treturn opts;\r\n};\r\n\r\nexport const decodeEventABI = (\r\n\tevent: AbiEventFragment & { signature: string },\r\n\tdata: LogsInput,\r\n\tjsonInterface: ContractAbiWithSignature,\r\n\treturnFormat: DataFormat = DEFAULT_RETURN_FORMAT,\r\n): EventLog => {\r\n\tlet modifiedEvent = { ...event };\r\n\r\n\tconst result = format(logSchema, data, returnFormat);\r\n\r\n\t// if allEvents get the right event\r\n\tif (modifiedEvent.name === 'ALLEVENTS') {\r\n\t\tconst matchedEvent = jsonInterface.find(j => j.signature === data.topics[0]);\r\n\t\tif (matchedEvent) {\r\n\t\t\tmodifiedEvent = matchedEvent as AbiEventFragment & { signature: string };\r\n\t\t} else {\r\n\t\t\tmodifiedEvent = { anonymous: true } as unknown as AbiEventFragment & {\r\n\t\t\t\tsignature: string;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\t// create empty inputs if none are present (e.g. anonymous events on allEvents)\r\n\tmodifiedEvent.inputs = modifiedEvent.inputs ?? event.inputs ?? [];\r\n\r\n\t// Handle case where an event signature shadows the current ABI with non-identical\r\n\t// arg indexing. If # of topics doesn't match, event is anon.\r\n\tif (!modifiedEvent.anonymous) {\r\n\t\tlet indexedInputs = 0;\r\n\t\t(modifiedEvent.inputs ?? []).forEach(input => {\r\n\t\t\tif (input.indexed) {\r\n\t\t\t\tindexedInputs += 1;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (indexedInputs > 0 && data?.topics && data?.topics.length !== indexedInputs + 1) {\r\n\t\t\t// checks if event is anonymous\r\n\t\t\tmodifiedEvent = {\r\n\t\t\t\t...modifiedEvent,\r\n\t\t\t\tanonymous: true,\r\n\t\t\t\tinputs: [],\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tconst argTopics = modifiedEvent.anonymous ? data.topics : (data.topics ?? []).slice(1);\r\n\treturn {\r\n\t\t...result,\r\n\t\treturnValues: decodeLog([...(modifiedEvent.inputs ?? [])], data.data, argTopics),\r\n\t\tevent: modifiedEvent.name,\r\n\t\tsignature:\r\n\t\t\tmodifiedEvent.anonymous || !data.topics || data.topics.length === 0 || !data.topics[0]\r\n\t\t\t\t? undefined\r\n\t\t\t\t: data.topics[0],\r\n\r\n\t\traw: {\r\n\t\t\tdata: data.data,\r\n\t\t\ttopics: data.topics,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const encodeMethodABI = (\r\n\tabi: AbiFunctionFragment | AbiConstructorFragment,\r\n\targs: unknown[],\r\n\tdeployData?: HexString,\r\n) => {\r\n\tconst inputLength = Array.isArray(abi.inputs) ? abi.inputs.length : 0;\r\n\r\n\tif (inputLength !== args.length) {\r\n\t\tthrow new Web3ContractError(\r\n\t\t\t`The number of arguments is not matching the methods required number. You need to pass ${inputLength} arguments.`,\r\n\t\t);\r\n\t}\r\n\r\n\tconst params = encodeParameters(Array.isArray(abi.inputs) ? abi.inputs : [], args).replace(\r\n\t\t'0x',\r\n\t\t'',\r\n\t);\r\n\r\n\tif (isAbiConstructorFragment(abi)) {\r\n\t\tif (!deployData)\r\n\t\t\tthrow new Web3ContractError(\r\n\t\t\t\t'The contract has no contract data option set. This is necessary to append the constructor parameters.',\r\n\t\t\t);\r\n\r\n\t\tif (!deployData.startsWith('0x')) {\r\n\t\t\treturn `0x${deployData}${params}`;\r\n\t\t}\r\n\r\n\t\treturn `${deployData}${params}`;\r\n\t}\r\n\r\n\treturn `${encodeFunctionSignature(abi)}${params}`;\r\n};\r\n\r\nexport const decodeMethodReturn = (abi: AbiFunctionFragment, returnValues?: HexString) => {\r\n\t// If it was constructor then we need to return contract address\r\n\tif (abi.type === 'constructor') {\r\n\t\treturn returnValues;\r\n\t}\r\n\r\n\tif (!returnValues) {\r\n\t\t// Using \"null\" value intentionally to match legacy behavior\r\n\t\t// eslint-disable-next-line no-null/no-null\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst value = returnValues.length >= 2 ? returnValues.slice(2) : returnValues;\r\n\tif (!abi.outputs) {\r\n\t\t// eslint-disable-next-line no-null/no-null\r\n\t\treturn null;\r\n\t}\r\n\tconst result = decodeParameters([...abi.outputs], value);\r\n\r\n\tif (result.__length__ === 1) {\r\n\t\treturn result[0];\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}